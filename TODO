# ~/dev/py/pysloc/TODO

2016-02-02
    * consider modifying pySloc to consider triple-DQUOTEd strings
        that are not assigned to a variable to be comments
        - so """this would be a comment"""
        - but this = """ would be counted as source code"""

    * pySloc counts files whose names end in .txt by default; this
        SHOULD NOT be the default behavior.  Modify to simply ignore
        *.txt except where on the command line
        - or add an option to count *.txt

    * add Augeas as a language, files have extension .aug, comments
        are (* like this *) and can be nested
    
    * add support for yacc  (C-style comments, *.y)
    * add support for lex   (C-style comments, *.l)
    * add support for perl  (*.pl, *.pm)
    * add support for pascal (*.pas; comments are {...} or (*...*) 
        but the starters and enders can be swapped; some people 
        allow comments to be nested

    * it would be only reasonable to look at the first line of files
        without an extension for sha-bang lines like #!/bin/bash
        - could also look at the permissions bit on the file

2016-01-24
    * in eg xlreg_py testData is NOT covered by an exclusion (-X)
        but files are not being counted: investigate
    * xlreg_py: which sudden drop of roughly 300 SLOC ?

2016-01-23
    * in upax_go, cmd/ and subdirectories are ignored unless eg
        cmd/upaxMirror/upaxMirror.go is added to command line;
        should be found automatically

2016-01-22
    * countem in eg upax_go reads executable upaxServer although        * GONE
        it should be ignored, given that it has no file name            * GONE
        extension; this in turn causes a utf-8 decode error             * GONE
        (invalid start byte)                                            * GONE

2016-01-17
    * couldBeGenerated_pb2.py resists being committed                   * FIXED

2016-01-16
    * add protobuf (extension .proto) to languages recognized           * DONE
    * count .gitignore as text                                          * DONE
    * filters protobuf-generated files from line counts; and test		* DONE
        - C								                                * DONE
        - C++								                            * DONE
        - Go								                            * DONE
        - Java								                            * DONE
        - Python								                        * DONE
    * add filter-and-test for ruby
    * add filter-and-test for OCaml
    * add filter-and-test for haskell

2016-01-15
    * yesterday's fixes introduced a BUG: you now need to specify       * FIXED
        at least one file name (such as '.') on the pySloc command line * FIXED

2016-01-14
    * testXmlComments.py is now generating a warning from               * GONE
        BeautifulSoup :-(                                               * GONE

2016-01-14
    * must examine effects of for line continuation character
        (backslash at EOL)
        - C
        - python
    * examine rhinomank/go-commonmark where pysloc counts 30544         * FIXED
        SLOC ansi C whereas sloccount sees 18223                        * FIXED
        - after filtering generated code, we now count 7698 SLOC        * FIXED
    * we count lines beginning with '#line ' as source code             * OK

    * should detect and ignore code produced by Gnu gperf "perfect      * DONE
        hash function generator"                                        * DONE
        - www.ibm.com/developerworks/library/l-gperf
        - first line is                                                 * OK
            '/* ANSI-C code produced by gperf version N.N.N */'         * OK
    * files with extension .gperf are definitely source code;           * SKIP
        can be counted as C or C++; could use -L to decide which;       * DKIP
        or could just count as gperf ;-)                                * SKIP

    * should detect and ignore code produced by re2c                    * DONE
        - a lexer generator for c/c++                                   * YEP
        - re2c.org                                                      * YEP
        - first line is '/* Generated by re2c N.NN.N */                 * YEP
    * source file should be counted; might have extension .re;          * DONE
        could be counted as either C or C++ or uhm as re                * DONE

    * for a list of such tools see
        https://en.wikipedia. rg/wiki/Comparison_of_parser_generators
2016-01-04
    * need to test for pathological cases, like Scala or Java
        file beginning with */
    * review haskell, consider adding separate commentsForHaskell       * DONE
        and testHaskellComments                                         * DONE

2015-12-30
    * edit commentsForScala to test nested comments                     * DONE
    * ediit __init__.py to handle nested comments correctly             * DONE

2015-12-30
    * pySloc needs to be able to count scala SLOC                       * DONE
        - java style comments                                           * DONE
            * comments may be nested
        - file names end in .scala                                      * DONE
            * but scripts ending in .sca and .scb are for another       * YEP
                language also called 'scala'                            * YEP

2015-12-18
    * in the case of dplyr, there is NO C code present but many		    * DONE
        *.h and *.cpp; we want to be able to specify that the primary	* DONE
        language is C++ and automatically switch the mapping of *.h		* DONE
        to C++		                                                    * DONE

2015-12-17
    * occam comments begin with double dash (--) and extend to end      * DONE
        of line; file names generally seem to have the .occ extension   * DONE
    * the extension .inc is sometimes used for occam source code; 		* FIXED
        most uses seem more recent and often particular to Fred Barnes	* FIXED
        - PRACTICE: if mainLang=='occ' add 'inc' to 'occ' mapping for	* FIXED
            this run only		*                                       * FIXED
            * so we add 'inc' => 'occ' to _langMap		                * FIXED
        - can verify this works uing the kroc distribution		        * FIXED

2015-12-01
    * need some testing for C++ other than that in testQ.py

2015-11-28 (edited from -09-03)
    * support PHP comments
        - single line: comment starts with # or //
        - multi-line: C-style /* like this */
        - comments preceded by sharp sign (#)
        - see php.net/manual/en/language.basic.syntax.comments.php
            * 'The "one-line" comment styles only comment to the end
                of the line or the current block of PHP code,
                whichever comes first.'
            * C-style comments (/* ... */) may not be nested
    * map .php extension to php programming language
    * write testPHPComments.py to exercise commentsForPHP (21 lines,
        6 of which SLOC)

2015-09-02
    * testQ mapping of *.r to R programming language                    * DONE
    * ditto for *.js

2015-09-02
    * add Haskell: comments begin with --, file names end with .hs      * DONE

2015-08-12
    * Html handling needs improvement, specifically an HTML comment
        should be <!-- (.*) --> where the middle bit excludes -- and >
    * countLinesJavaStyle() should be reworked to use uncommentJava()

2015-04-30
    * SERIOUS: running pySloc on build.xml reports zero SLOC            * FIXED

2015-04-29
    * grand total line contains no test information (compare
        goSloc, which has two such lines, first source, then test)

2015-04-22
    * FIX: XML processing is remarkably inefficient
        - and needs more testing

2015-04-13 (edited from -11)
    * add countLinesGeneric which has a pattern or regexp for whatever
        starts a comment line

2015-04-08
    * figure out how to differentiate C *.h from C++ *.h
    * write commentsForJava and testJavaComments
    * write commentsForC and testCComments
    * write commentsForCPlusPlus and testCPlusPlusComments

2015-04-07
    * FIX: fusegen count includes lang None with a count of zero
    * FIX: markdown counts are dominated by html:6927/6695; dunno
        where the test counts come from!
    * FIX: xxxfs counts are from autogen.sh and ltmain.sh; nothing
        for *.c, *.h -- ie
        - we need to ignore library and generated shell code
        - we need to count Makefiles, *.ac, *.am
        - but ignore Makefile.in, other generated files
        - and we need to count C code
            * ah but in this case (a) *.inc and (b) all *.c/h is
                generated code
    * FIX: notCodeDir() is not being used
    * commentsForOcaml needs to be longer

2015-04-06 (edited from -03)
    * uncomment
        TQUOTE = '"""'
        in commentsForPy and get testPyComments.py working

2015-04-04
    * countLinesGeneric, countLinesPython should honor the line
        continuation character (backslash at end of line) - but
        how exactly?

2015-04-01 [from snosloc/TODO]
    * add ext2lang, map guessing language from file extension
        - one language is 'notCode'
    * add notCodeFiles set, list of file names which don't contain code
        (COPYING, README and such)
    * add command line option -L/--languges for csv list of languages
        (abbrev) to be counted; default = count all
    * integrate [snoSloc into] existing pySloc
    * output is langCount, a map, abbrev->(LOC, SLOC, TSLOC), where
        TSLOC is SLOC for tests
    * assume can use the same counter for Java and Go
    * the perils of Perl: www.perlmonks.org/?node_id=100344

2015-02-16
    * handle pathological cases
        - SQUOTEd TQUOTE: '"""' or 'like """ this'

